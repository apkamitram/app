const _0x2f5fbf=_0x4bf7;(function(_0x59fe76,_0x561549){const _0x3ca0ec=_0x4bf7,_0x12b4a7=_0x59fe76();while(!![]){try{const _0x1c7c0e=parseInt(_0x3ca0ec(0xa9))/0x1+-parseInt(_0x3ca0ec(0xbc))/0x2+parseInt(_0x3ca0ec(0xde))/0x3*(-parseInt(_0x3ca0ec(0xba))/0x4)+parseInt(_0x3ca0ec(0xaf))/0x5*(-parseInt(_0x3ca0ec(0xe6))/0x6)+parseInt(_0x3ca0ec(0xc3))/0x7*(-parseInt(_0x3ca0ec(0xb3))/0x8)+-parseInt(_0x3ca0ec(0xe4))/0x9+parseInt(_0x3ca0ec(0xe3))/0xa*(parseInt(_0x3ca0ec(0xda))/0xb);if(_0x1c7c0e===_0x561549)break;else _0x12b4a7['push'](_0x12b4a7['shift']());}catch(_0x36ee73){_0x12b4a7['push'](_0x12b4a7['shift']());}}}(_0x59d1,0xc1f55));const {parseIncomingMessage,formatReceipt,prepareMediaMessage,delayMsg}=require(_0x2f5fbf(0xb8));require(_0x2f5fbf(0xe7))[_0x2f5fbf(0xd7)]();const axios=require('axios'),{isExistsEqualCommand,isExistsContainCommand,getUrlWebhook,getDevice}=require(_0x2f5fbf(0xbe)),{formatButtonMsg,Button}=require(_0x2f5fbf(0xbd)),{ulid}=require(_0x2f5fbf(0xd0)),{Section,formatListMsg}=require(_0x2f5fbf(0xdd)),{getPpUrl}=require(_0x2f5fbf(0xce)),IncomingMessage=async(_0x3d4933,_0x5069fb)=>{const _0x13618e=_0x2f5fbf;try{let _0x3b4e8d=![];if(!_0x3d4933[_0x13618e(0xd3)])return;_0x3d4933=_0x3d4933[_0x13618e(0xd3)][0x0];const _0x58c7e0=_0x3d4933?.[_0x13618e(0xd2)]||'';if(_0x3d4933[_0x13618e(0xb5)]['fromMe']===!![])return;if(_0x3d4933[_0x13618e(0xb5)]['remoteJid']===_0x13618e(0xad))return;const _0x40621a=_0x3d4933[_0x13618e(0xb5)][_0x13618e(0xdb)]&&formatReceipt(_0x3d4933[_0x13618e(0xb5)][_0x13618e(0xdb)]),{command:_0x3663ea,media:_0x1423e7,from:_0x502f2c}=await parseIncomingMessage(_0x3d4933,_0x5069fb);let _0x1bd02c,_0x2b8ca4;const _0x45db3b=_0x5069fb[_0x13618e(0xe5)]['id'][_0x13618e(0xd9)](':')[0x0];let _0x571a17=null;try{_0x571a17=await _0x5069fb['profilePictureUrl'](_0x3d4933[_0x13618e(0xb5)][_0x13618e(0xdb)]??_0x3d4933['key']['remoteJid']);}catch(_0x3c2473){console[_0x13618e(0xc0)](_0x3c2473),_0x571a17=_0x13618e(0xa8);}const _0x52d13c=await isExistsEqualCommand(_0x3663ea,_0x45db3b);_0x52d13c[_0x13618e(0xae)]>0x0?_0x2b8ca4=_0x52d13c:_0x2b8ca4=await isExistsContainCommand(_0x3663ea,_0x45db3b);const _0x2f683c=await getDevice(_0x45db3b);_0x2f683c['length']>0x0&&(_0x2f683c[0x0][_0x13618e(0xdc)]==0x1&&_0x5069fb[_0x13618e(0xd6)]([_0x3d4933[_0x13618e(0xb5)]]));if(_0x2b8ca4['length']===0x0){const _0x19d8cf=await getUrlWebhook(_0x45db3b);if(_0x19d8cf==null)return;const _0x227b32=await sendWebhook({'device':_0x45db3b,'command':_0x3663ea,'media':_0x1423e7,'from':_0x502f2c,'name':_0x58c7e0,'url':_0x19d8cf,'participant':_0x40621a,'ppUrl':_0x571a17});if(_0x227b32===![])return;if(_0x227b32===undefined)return;if(typeof _0x227b32!=_0x13618e(0xcf))return;_0x3b4e8d=_0x227b32?.[_0x13618e(0xca)]?!![]:![],_0x1bd02c=JSON['stringify'](_0x227b32);}else{replyorno=_0x2b8ca4[0x0][_0x13618e(0xcc)]=='All'?!![]:_0x2b8ca4[0x0][_0x13618e(0xcc)]=='Group'&&_0x3d4933[_0x13618e(0xb5)]['remoteJid']['includes']('@g.us')?!![]:_0x2b8ca4[0x0][_0x13618e(0xcc)]==_0x13618e(0xcd)&&!_0x3d4933[_0x13618e(0xb5)]['remoteJid'][_0x13618e(0xbb)](_0x13618e(0xc4))?!![]:![];if(replyorno===![])return;_0x2b8ca4[0x0][_0x13618e(0xd1)]!=0x0&&_0x5069fb['readMessages']([_0x3d4933[_0x13618e(0xb5)]]);if(_0x2b8ca4[0x0][_0x13618e(0xe2)]==0x1){const _0x2a8bf6=_0x2b8ca4[0x0][_0x13618e(0xb2)]==0x0?0x7d0:_0x2b8ca4[0x0][_0x13618e(0xb2)]*0x3e8;await delayMsg(_0x2a8bf6,_0x5069fb,_0x3d4933['key'][_0x13618e(0xb7)]);}_0x3b4e8d=_0x2b8ca4[0x0]['is_quoted']?!![]:![],typeof _0x2b8ca4[0x0][_0x13618e(0xd5)]===_0x13618e(0xcf)?_0x1bd02c=JSON[_0x13618e(0xc5)](_0x2b8ca4[0x0][_0x13618e(0xd5)]):_0x1bd02c=_0x2b8ca4[0x0]['reply'];}_0x1bd02c=_0x1bd02c['replace'](/{name}/g,_0x58c7e0),_0x1bd02c=JSON['parse'](_0x1bd02c);if(_0x2f683c['length']>0x0){if(_0x2f683c[0x0][_0x13618e(0xb6)]==0x1){const _0x4a6a06=0x2*0x3e8;await delayMsg(_0x4a6a06,_0x5069fb,_0x3d4933[_0x13618e(0xb5)][_0x13618e(0xb7)],!![]);}}if(_0x13618e(0xa7)in _0x1bd02c){let _0x50adf6=_0x5069fb[_0x13618e(0xe5)]['id'][_0x13618e(0xc2)](/:\d+/,'');if(_0x1bd02c[_0x13618e(0xa7)]==_0x13618e(0xd8))return await _0x5069fb[_0x13618e(0xc1)](_0x3d4933[_0x13618e(0xb5)]['remoteJid'],{'audio':{'url':_0x1bd02c['url']},'ptt':!![],'mimetype':'audio/mpeg'});const _0x31b57d=await prepareMediaMessage(_0x5069fb,{'caption':_0x1bd02c[_0x13618e(0xc6)]?_0x1bd02c['caption']:'','fileName':_0x1bd02c[_0x13618e(0xe0)],'media':_0x1bd02c['url'],'mediatype':_0x1bd02c[_0x13618e(0xa7)]!==_0x13618e(0xb1)&&_0x1bd02c[_0x13618e(0xa7)]!=='image'?'document':_0x1bd02c[_0x13618e(0xa7)]}),_0x57dd2d={..._0x31b57d[_0x13618e(0xaa)]};return await _0x5069fb[_0x13618e(0xc1)](_0x3d4933[_0x13618e(0xb5)][_0x13618e(0xb7)],{'forward':{'key':{'remoteJid':_0x50adf6,'fromMe':!![]},'message':_0x57dd2d}},{'quoted':_0x3b4e8d?_0x3d4933:null});}else{if(_0x13618e(0xc7)in _0x1bd02c){const _0x4ed608=_0x1bd02c[_0x13618e(0xc7)][_0x13618e(0xcb)](_0x429cbe=>new Button(_0x429cbe)),_0x22c679=formatButtonMsg(_0x4ed608,_0x1bd02c?.[_0x13618e(0xb9)],_0x1bd02c[_0x13618e(0xbf)]??_0x1bd02c?.[_0x13618e(0xc6)],_0x5069fb,_0x1bd02c?.[_0x13618e(0xc8)]?.[_0x13618e(0xab)]),_0x37be5c=ulid(Date['now']());return await _0x5069fb[_0x13618e(0xac)](_0x3d4933[_0x13618e(0xb5)][_0x13618e(0xb7)],_0x22c679,{'messageId':_0x37be5c});}else{if(_0x13618e(0xd4)in _0x1bd02c){const _0x30d88d=_0x1bd02c['sections'][_0x13618e(0xcb)](_0x121bd2=>new Section(_0x121bd2)),_0x361f73=formatListMsg(_0x30d88d,_0x1bd02c?.[_0x13618e(0xb9)]??'..',_0x1bd02c[_0x13618e(0xbf)]??_0x1bd02c[_0x13618e(0xc6)],_0x5069fb,_0x1bd02c?.[_0x13618e(0xc8)]?.[_0x13618e(0xab)]),_0x3ad004=ulid(Date[_0x13618e(0xe1)]());return await _0x5069fb['relayMessage'](_0x3d4933[_0x13618e(0xb5)]['remoteJid'],_0x361f73,{'messageId':_0x3ad004});}else await _0x5069fb[_0x13618e(0xc1)](_0x3d4933['key'][_0x13618e(0xb7)],_0x1bd02c,{'quoted':_0x3b4e8d?_0x3d4933:null})[_0x13618e(0xb0)](_0xa7521a=>{const _0x49df29=_0x13618e;console[_0x49df29(0xc0)](_0xa7521a);});}}return!![];}catch(_0x153d2a){console[_0x13618e(0xc0)](_0x13618e(0xdf),_0x153d2a);}};function _0x4bf7(_0x14e8ba,_0x5ec0f1){const _0x59d1c4=_0x59d1();return _0x4bf7=function(_0x4bf7dd,_0x3122c6){_0x4bf7dd=_0x4bf7dd-0xa7;let _0x297aa3=_0x59d1c4[_0x4bf7dd];return _0x297aa3;},_0x4bf7(_0x14e8ba,_0x5ec0f1);}async function sendWebhook({device:_0x336b7a,command:_0x4fa30a,media:_0x576376,from:_0x453ada,name:_0x368e4c,url:_0x5e47f8,participant:_0x1518b8,ppUrl:_0x54dcf9}){const _0x276e23=_0x2f5fbf;try{const _0xf1bac0={'device':_0x336b7a,'message':_0x4fa30a,'media':_0x576376,'from':_0x453ada,'name':_0x368e4c,'participant':_0x1518b8,'ppUrl':_0x54dcf9};console[_0x276e23(0xc0)]('forward\x20to\x20'+_0x5e47f8);const _0x466fe1=await axios['post'](_0x5e47f8,_0xf1bac0,{'headers':{'Content-Type':'application/json;\x20charset=utf-8'},'maxContentLength':0x64*0x13a0*0x400,'maxBodyLength':0x64*0x400*0x400})[_0x276e23(0xb0)](_0x3cb20b=>{const _0x411695=_0x276e23;return console[_0x411695(0xc0)](_0x3cb20b),![];});return _0x466fe1[_0x276e23(0xb4)];}catch(_0x4dc3dd){return console[_0x276e23(0xc0)]('error\x20send\x20webhook',_0x4dc3dd),![];}}function _0x59d1(){const _0x2aace5=['reply_when','Personal','../whatsapp','object','ulid','is_read','pushName','messages','sections','reply','readMessages','config','audio','split','4647995RtPfYu','participant','wh_read','../dto/list','66894pzWvPh','err','filename','now','is_typing','100CjxOxp','10120320cMPOPJ','user','28338dyuyQt','dotenv','type','https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/1200px-WhatsApp.svg.png','132644QMfqPn','message','url','relayMessage','status@broadcast','length','685lvDblX','catch','video','delay','202504dSalPP','data','key','wh_typing','remoteJid','../lib/helper','footer','160OGJGrD','includes','1445998ZKdHud','../dto/button','../database/model','text','log','sendMessage','replace','49rbSVlb','@g.us','stringify','caption','buttons','image','exports','quoted','map'];_0x59d1=function(){return _0x2aace5;};return _0x59d1();}module[_0x2f5fbf(0xc9)]={'IncomingMessage':IncomingMessage};